{"swagger":"2.0","info":{"version":"5.15.0","title":"DOT Document Server API Documentation"},"host":"localhost","basePath":"/","tags":[{"name":"Actuators","description":"Actuator Controller"},{"name":"Document operations","description":"Document Controller"}],"paths":{"/api/v5/actuator/info":{"get":{"tags":["Actuators"],"summary":"Get general information about the application.","operationId":"infoUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ActuatorInfoResponse"}},"500":{"description":"Internal Server Error. Possible error codes:\n - UNEXPECTED_ERROR","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/api/v5/document/metadata":{"get":{"tags":["Document operations"],"summary":"Get all supported document metadata.","operationId":"metadataUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DocumentMetadataResponse"}},"500":{"description":"Internal Server Error. Possible error codes:\n - UNEXPECTED_ERROR","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/api/v5/document/ocr":{"post":{"tags":["Document operations"],"summary":"Get normalized document image and do optical character recognition.","operationId":"ocrUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/DocumentOcrRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DocumentOcrResponse"}},"400":{"description":"Bad Request. Possible error codes:\n - INVALID_REQUEST_BODY","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Internal Server Error. Possible error codes:\n - SAM_OCR_ERROR\n - UNEXPECTED_ERROR","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}}},"definitions":{"ActuatorInfoResponse":{"type":"object","required":["build"],"properties":{"build":{"description":"Build","$ref":"#/definitions/Build"}},"title":"ActuatorInfoResponse","description":"Actuator Info response"},"Authenticity":{"type":"object","properties":{"confidence":{"type":"number","format":"double","description":"Authenticity confidence"},"confidenceLevel":{"type":"string","example":"LOW","description":"Authenticity confidence level","enum":["VERY_LOW","LOW","MEDIUM","HIGH","UNKNOWN"]},"suspiciousFields":{"description":"Suspicious fields.","$ref":"#/definitions/AuthenticityDetails"}},"title":"Authenticity"},"AuthenticityConfiguration":{"type":"object","required":["enabled"],"properties":{"enabled":{"type":"boolean","description":"Enable/disable authenticity check."}},"title":"AuthenticityConfiguration"},"AuthenticityDetail":{"type":"object","properties":{"confidence":{"type":"number","format":"double","description":"Authenticity confidence"},"confidenceLevel":{"type":"string","example":"LOW","description":"Authenticity confidence level","enum":["VERY_LOW","LOW","MEDIUM","HIGH","UNKNOWN"]}},"title":"AuthenticityDetail"},"AuthenticityDetails":{"type":"object","properties":{"textFields":{"type":"object","description":"Text fields authenticity details","additionalProperties":{"$ref":"#/definitions/AuthenticityDetail"}},"imageFields":{"type":"object","description":"Image fields authenticity details","additionalProperties":{"$ref":"#/definitions/AuthenticityDetail"}}},"title":"AuthenticityDetails"},"AuthenticityMetadata":{"type":"object","required":["imageFields","textFields"],"properties":{"textFields":{"type":"object","description":"Text fields authenticity metadata","additionalProperties":{"$ref":"#/definitions/TextFieldAuthenticity"}},"imageFields":{"type":"object","description":"Image fields authenticity metadata","additionalProperties":{"$ref":"#/definitions/ImageFieldAuthenticity"}}},"title":"AuthenticityMetadata","description":"Authenticity metadata"},"Build":{"type":"object","required":["artifact","group","name","version"],"properties":{"artifact":{"type":"string","example":"dot-document-server","description":"Artifact ID of the application"},"group":{"type":"string","example":"com.innovatrics.dot","description":"Group ID of the application"},"name":{"type":"string","example":"dot-document-server","description":"Name of the application"},"version":{"type":"string","example":"4.0.0","description":"Version of the application"}},"title":"Build","description":"Build"},"CardCorners":{"type":"object","properties":{"topLeft":{"description":"The top-left coordinate.","$ref":"#/definitions/Point"},"topRight":{"description":"The top-right coordinate.","$ref":"#/definitions/Point"},"bottomRight":{"description":"The bottom-right coordinate.","$ref":"#/definitions/Point"},"bottomLeft":{"description":"The bottom-left coordinate.","$ref":"#/definitions/Point"}},"title":"CardCorners"},"ColorProfile":{"type":"object","properties":{"similarityScore":{"type":"number","format":"double","description":"Color similarity score"},"similarityScoreLevel":{"type":"string","example":"LOW","description":"Color similarity score level","enum":["VERY_LOW","LOW","MEDIUM","HIGH"]}},"title":"ColorProfile"},"DetectionQualityChekDetails":{"type":"object","properties":{"confidence":{"type":"number","format":"double","example":0.45,"description":"Document detection confidence","minimum":0.0,"maximum":1.0,"exclusiveMinimum":false,"exclusiveMaximum":false},"coordinates":{"description":"If document is detected in the input image, this contains its coordinates in the input image.","$ref":"#/definitions/CardCorners"}},"title":"DetectionQualityChekDetails"},"DisplayAttackDetection":{"type":"object","properties":{"genuine":{"description":"Display attack detection results","$ref":"#/definitions/GenuityDetails"}},"title":"DisplayAttackDetection"},"DisplayAttackDetectionConfiguration":{"type":"object","required":["enabled"],"properties":{"enabled":{"type":"boolean","description":"Enable/disable display attack detection."}},"title":"DisplayAttackDetectionConfiguration"},"DocumentMetadataResponse":{"type":"object","required":["documentTypes"],"properties":{"documentTypes":{"type":"array","description":"An array of DocumentType objects","items":{"$ref":"#/definitions/MetadataDocumentType"}}},"title":"DocumentMetadataResponse","description":"Document metadata response"},"DocumentOcrRequest":{"type":"object","required":["image"],"properties":{"image":{"type":"string","format":"byte","example":"BASE64","description":"Base64 encoded image"},"documentTypeAdvice":{"description":"Document type advice","$ref":"#/definitions/DocumentTypeAdvice"},"filter":{"description":"Filter for output data","$ref":"#/definitions/Filter"},"normalizedDocumentImage":{"type":"boolean","description":"If an image of a normalized document should be present in a response."},"documentProperties":{"description":"Document properties configuration","$ref":"#/definitions/DocumentPropertiesConfiguration"}},"title":"DocumentOcrRequest","description":"Document OCR request"},"DocumentOcrResponse":{"type":"object","properties":{"documentType":{"description":"Document type","$ref":"#/definitions/OcrDocumentType"},"pageType":{"type":"string","example":"FRONT","description":"Page type (side)"},"textFields":{"type":"object","description":"A map of OcrTextField objects","additionalProperties":{"$ref":"#/definitions/OcrTextField"}},"imageFields":{"type":"object","description":"A map of OcrImageField objects","additionalProperties":{"$ref":"#/definitions/OcrImageField"}},"normalizedImage":{"type":"string","format":"byte","example":"BASE64","description":"Base64 encoded normalized document image in JPG format with 8-bit RGB color components, corresponding to a Windows-style BGR color model"},"errorCode":{"type":"string","example":"DOCUMENT_TYPE_NOT_RECOGNIZED","description":"Error code","enum":["DOCUMENT_TYPE_NOT_RECOGNIZED","NO_CARD_CORNERS_DETECTED","INVALID_DOCUMENT_TYPE_ADVICE"]},"documentProperties":{"description":"Document properties","$ref":"#/definitions/DocumentProperties"}},"title":"DocumentOcrResponse","description":"Document OCR response"},"DocumentProperties":{"type":"object","properties":{"colorProfile":{"description":"Color profile","$ref":"#/definitions/ColorProfile"},"authenticity":{"description":"Authenticity","$ref":"#/definitions/Authenticity"},"quality":{"description":"Quality","$ref":"#/definitions/Quality"},"displayAttackDetection":{"description":"Display attack detection","$ref":"#/definitions/DisplayAttackDetection"}},"title":"DocumentProperties"},"DocumentPropertiesConfiguration":{"type":"object","properties":{"authenticity":{"description":"Authenticity configuration. If it isn't present, the authenticity check isn't executed.","$ref":"#/definitions/AuthenticityConfiguration"},"quality":{"description":"Document quality properties configuration. If it isn't present, the quality check isn't executed.","$ref":"#/definitions/DocumentQualityConfiguration"},"displayAttackDetection":{"description":"Display attack detection configuration. If it isn't present, the display attack check isn't executed.","$ref":"#/definitions/DisplayAttackDetectionConfiguration"}},"title":"DocumentPropertiesConfiguration"},"DocumentQualityConfiguration":{"type":"object","required":["enabled"],"properties":{"enabled":{"type":"boolean","description":"Enable/disable quality check."}},"title":"DocumentQualityConfiguration"},"DocumentTypeAdvice":{"type":"object","properties":{"ids":{"type":"array","example":["fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7", "24864b29-0e25-4bc3-874f-a341a596330d"],"description":"An array of document type IDs","items":{"type":"string"}},"country":{"type":"string","example":"SVK","description":"Country of issue (case insensitive)"},"type":{"type":"string","example":"identity-card","description":"Type of document (case insensitive)"},"edition":{"type":"string","example":"2015-03-01","description":"Edition, usually date of release (case insensitive)"},"machineReadableTravelDocument":{"type":"string","example":"TD1","description":"ICAO Machine Readable Travel Document (MRTD) Specification (case insensitive)"},"pageTypes":{"type":"array","example":["FRONT"],"description":"An array of page types (sides) (case insensitive)","items":{"type":"string"}}},"title":"DocumentTypeAdvice","description":"Document type advice"},"ErrorResponse":{"type":"object","required":["errorCode"],"properties":{"errorCode":{"type":"string","example":"INVALID_REQUEST_BODY","description":"Error code","enum":["INVALID_REQUEST_BODY","SAM_OCR_ERROR","UNEXPECTED_ERROR"]},"errorMessage":{"type":"string","example":"Field: image: must not be null","description":"Error detailed description"}},"title":"ErrorResponse","description":"Error response"},"Filter":{"type":"object","properties":{"textFieldIds":{"type":"array","example":["given_names", "surname"],"description":"An array of text field IDs","items":{"type":"string"}}},"title":"Filter","description":"Filter for output data"},"GenuityDetails":{"type":"object","properties":{"confidence":{"type":"number","format":"double","description":"Confidence the image is display attack free"},"confidenceLevel":{"type":"string","example":"LOW","description":"Confidence level","enum":["LOW","MEDIUM","HIGH"]}},"title":"GenuityDetails"},"ImageFieldAuthenticity":{"type":"object","required":["available"],"properties":{"available":{"type":"boolean","example":true,"description":"If the authenticity check is available for the image field."}},"title":"ImageFieldAuthenticity"},"MetadataDocumentType":{"type":"object","required":["code","country","displayName","edition","id","pages","type"],"properties":{"id":{"type":"string","example":"fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7","description":"Identifier (UUID)"},"code":{"type":"string","example":"svk_identity-card_2015-03-01","description":"Human-readable code"},"displayName":{"type":"string","example":"Slovakia - Identity Card - 2015-03-01","description":"Display name"},"country":{"type":"string","example":"SVK","description":"Country of issue"},"type":{"type":"string","example":"identity-card","description":"Type of document"},"edition":{"type":"string","example":"2015-03-01","description":"Edition, usually date of release"},"machineReadableTravelDocument":{"type":"string","example":"TD1","description":"ICAO Machine Readable Travel Document (MRTD) Specification"},"pages":{"type":"object","description":"A map of Page objects","additionalProperties":{"$ref":"#/definitions/Page"}}},"title":"MetadataDocumentType","description":"Document type"},"MetadataImageField":{"type":"object","properties":{"label":{"type":"string","example":"Signature","description":"Label printed on card (if present)"}},"title":"MetadataImageField","description":"Image field metadata"},"MetadataTextField":{"type":"object","properties":{"label":{"type":"string","example":"Surname","description":"Label printed on card (if present)"},"valueNormalized":{"type":"boolean","description":"If the value is being normalized"}},"title":"MetadataTextField","description":"Text field metadata"},"OcrDocumentType":{"type":"object","required":["code","id"],"properties":{"id":{"type":"string","example":"fd3d8ded-7bfb-4cd6-8012-d88fffee6ee7","description":"Identifier (UUID)"},"code":{"type":"string","example":"svk_identity-card_2015-03-01","description":"Human-readable code"}},"title":"OcrDocumentType","description":"Document type"},"OcrImageField":{"type":"object","required":["roi"],"properties":{"roi":{"description":"Region of Interest","$ref":"#/definitions/Roi"}},"title":"OcrImageField","description":"Image field"},"OcrTextField":{"type":"object","required":["confidence","lines","roi"],"properties":{"lines":{"type":"array","description":"An array of TextLine objects","items":{"$ref":"#/definitions/TextLine"}},"confidence":{"type":"number","format":"double","example":0.95,"description":"Optical character recognition confidence; A value greater than 0.875 is considered as a high degree of confidence;","minimum":0.0,"maximum":1.0,"exclusiveMinimum":false,"exclusiveMaximum":false},"roi":{"description":"Region of Interest","$ref":"#/definitions/Roi"}},"title":"OcrTextField","description":"Text field"},"Page":{"type":"object","required":["authenticity","imageFields","textFields"],"properties":{"textFields":{"type":"object","description":"Text fields metadata","additionalProperties":{"$ref":"#/definitions/MetadataTextField"}},"imageFields":{"type":"object","description":"Image fields metadata","additionalProperties":{"$ref":"#/definitions/MetadataImageField"}},"authenticity":{"description":"An authenticity metadata","$ref":"#/definitions/AuthenticityMetadata"}},"title":"Page","description":"Document page metadata"},"Point":{"type":"object","required":["x","y"],"properties":{"x":{"type":"integer","format":"int32"},"y":{"type":"integer","format":"int32"}},"title":"Point"},"Quality":{"type":"object","properties":{"checkResult":{"type":"string","example":"OK","description":"The quality check result","enum":["OK","FAILED"]},"failures":{"type":"array","example":"BRIGHTNESS_HIGH","description":"The list of the quality check failures if the quality check failed.","items":{"type":"string","enum":["BRIGHTNESS_HIGH","BRIGHTNESS_LOW","HOTSPOTS_SCORE_HIGH","SHARPNESS_LOW","DOCUMENT_SMALL","DOCUMENT_OUT_OF_IMAGE"]}},"warnings":{"type":"array","example":"DOCUMENT_CLOSE_TO_IMAGE_BORDER","description":"The list of warnings from the quality check.","items":{"type":"string","enum":["DOCUMENT_CLOSE_TO_IMAGE_BORDER"]}},"details":{"description":"Quality check details","$ref":"#/definitions/QualityCheckDetails"}},"title":"Quality"},"QualityCheckDetail":{"type":"object","properties":{"score":{"type":"number","format":"double","example":0.45,"description":"Quality parameter score","minimum":0.0,"maximum":1.0,"exclusiveMinimum":false,"exclusiveMaximum":false},"level":{"type":"string","example":"LOW","description":"Quality parameter level","enum":["LOW","MEDIUM","HIGH"]}},"title":"QualityCheckDetail"},"QualityCheckDetails":{"type":"object","properties":{"sharpness":{"description":"Sharpness quality check details","$ref":"#/definitions/QualityCheckDetail"},"brightness":{"description":"Brightness quality check details","$ref":"#/definitions/QualityCheckDetail"},"hotspots":{"description":"Hotspots quality check details","$ref":"#/definitions/QualityCheckDetail"},"detection":{"description":"Document detection details","$ref":"#/definitions/DetectionQualityChekDetails"}},"title":"QualityCheckDetails"},"Roi":{"type":"object","required":["height","width","x","y"],"properties":{"x":{"type":"integer","format":"int32","example":24,"description":"X coordinate in pixels"},"y":{"type":"integer","format":"int32","example":175,"description":"Y coordinate in pixels"},"width":{"type":"integer","format":"int32","example":245,"description":"Width in pixels"},"height":{"type":"integer","format":"int32","example":32,"description":"Height in pixels"}},"title":"Roi","description":"Region of Interest"},"TextFieldAuthenticity":{"type":"object","required":["available"],"properties":{"available":{"type":"boolean","example":true,"description":"If the authenticity check is available for the text field."}},"title":"TextFieldAuthenticity"},"TextLine":{"type":"object","required":["confidence","value"],"properties":{"value":{"type":"string","example":"Specimen","description":"Value"},"confidence":{"type":"number","format":"double","example":0.99,"description":"Optical character recognition confidence; A value greater than 0.875 is considered as a high degree of confidence;","minimum":0.0,"maximum":1.0,"exclusiveMinimum":false,"exclusiveMaximum":false}},"title":"TextLine","description":"Text line"}}}